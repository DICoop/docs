# Зарегистрировать аккаунт
Для подключения к кооперативной экономике, вам потребуется зарегистрированный аккаунт на блокчейне цифрового кооператива. Аккаунт представляет собой учётную запись, с помощью которой совершаются действия со смарт-контрактами в экосистеме.

Аккаунты необходимы всем пайщикам для вступления в кооперативы, а также компаниям, которые обслуживают интересы пайщиков за пределами контура кооперативной экономики, но на том же блокчейне. 

Сервис регистрации аккаунтов оказывается регистраторами. Регистраторы создают аккаунты по запросам пользователей и опционально берут за свой сервис оплату. 

## Пополнение баланса
Перед регистрацией нового аккаунта, необходимо пополнить баланс контракта регистратора. Для этого отправитель переводит необходимую сумму AXON (системный токен) на баланс контракта registrator. В поле memo указывается имя аккаунта отправителя, что позволяет контракту регистрации идентифицировать источник средств. После пополнения баланса, можно приступать к регистрации аккаунта.

!!! note "Команда пополнения баланса контракта"
    === "cleos"
        ```bash
        cleos push action eosio.token transfer '["sender", "registrator", "amount", "sender_account_name"]' -p sender
        ```
    === "js"
        ```javascript
        eos.transact({ 
          actions: [{
            account: "eosio.token", 
            name: 'transfer',
            authorization: [{
              actor: "sender", 
              permission: 'active',
            }],
            data: {
                from: "sender",
                to: "registrator",
                quantity: "amount",
                memo: "sender_account_name"
            },
          }]
        }, {
          blocksBehind: 3,
          expireSeconds: 30,
        })
        ```

    **Параметры:** 
    eosio.token - стандартный системный контракт токена AXON
    
    - `from` (eosio::name)
        - Имя аккаунта, с которого производится перевод.

    - `to` (eosio::name)
        - Имя аккаунта, на который производится перевод (в данном случае — контракт "registrator").

    - `quantity` (eosio::asset)
        - Количество переводимых средств в формате "10.0000 AXON".

    - `memo` (std::string)
        - Примечание к переводу, которое содержит имя аккаунта регистратора, которому пополнить баланс



## Проверка баланса
С помощью команды cleos или eos.getTableRows на JavaScript вы можете получить информацию о балансе контракта регистратора. Это позволяет проверить количество токенов, которыми располагает ваш аккаунт для регистрации новых аккаунтов. В приведенном примере ответа, пользователь username обладает 20000 AXON для регистрации новых аккаунтов.

!!! note "Команда проверки баланса контракта регистратора"
    === "cleos"
        ```bash
        cleos get table registrator username balances
        ```
    === "js"
        ```javascript
        eos.getTableRows({
            code: "registrator",
            scope: "username",
            table: "balances",
            json: true,
        }).then(result => {
            console.log(result.rows);
        }).catch(error => {
            console.error(error);
        });
        ```

    **Ответ:**

    ```json
    {
      "rows": [{
          "id": 0,
          "contract": "eosio.token",
          "quantity": "20000.0000 AXON"
        }
      ]
    }
    ```


## Регистрация аккаунта
Для регистрации доступны имена аккаунтов длинной от 5 до 12 символов латинского алфавита без цифр и специальных знаков, такие как: **cooperative** или **cooper** или **mynameis**. 

Регистрация аккаунтов производится с использованием предоставленного публичного ключа доступа с помощью смарт-контракта, общего для всех регистраторов. 

!!! note "Команда регистрации аккаунта"
    === "cleos"
        ```bash
        cleos push action registrator '["payer", "referer", "username", "uid", "public_key", "cpu", "net", "ram_bytes", "meta"]' -p payer
        ```
    === "js"
        ```javascript
        eos.transact({ 
          actions: [{
            account: "registrator", // имя контракта
            name: 'newaccount',
            authorization: [{
              actor: "payer", // имя аккаунта, который платит за регистрацию
              permission: 'active',
            }],
            data: {
                payer: "payer",
                referer: "referer",
                username: "username",
                uid: "uid",
                public_key: "public_key",
                cpu: "cpu",
                net: "net",
                ram_bytes: "ram_bytes",
                meta: "meta"
            },
          }]
        }, {
          blocksBehind: 3,
          expireSeconds: 30,
        })
        ```

    **Параметры:** 

    - `payer` (eosio::name)
        - Имя аккаунта, который оплачивает регистрацию нового аккаунта.

    - `referer` (eosio::name)
        - Имя реферера, который направил пользователя на регистрацию.
        
    - `username` (eosio::name)
        - Имя нового пользователя, который будет зарегистрирован.
        
    - `uid` (std::string)
        - Уникальный идентификатор пользователя.
        
    - `public_key` (eosio::public_key)
        - Публичный ключ нового пользователя.
        
    - `cpu` (eosio::asset)
        - Количество ресурсов CPU, выделенных для нового аккаунта.
        
    - `net` (eosio::asset)
        - Количество ресурсов NET, выделенных для нового аккаунта.
        
    - `ram_bytes` (uint64_t)
        - Количество RAM (в байтах), выделенное для нового аккаунта.
        
    - `meta` (std::string)
        - Дополнительная метаинформация или заметки к аккаунту.
 
Регистрация аккаунта через смарт-контракт регистратора делает возможным дальнейшее вступление пайщика в кооператив как физическое лицо или организацию. 

## Восстановление аккаунта

<!-- 
## Аукцион доменных имен
### Регистрация домена
Доменные имена представляют собой имена аккаунтов, состоящие из 5 или менее символов, например, apple, eos или coin. Они не могут содержать точек и их регистрация возможна исключительно через аукцион имен. Победив в аукционе, пользователь получает полные права на доменное имя и возможность создавать на его основе поддомены.

### Регистрация поддомена
Поддомен создается на основе уже зарегистрированного доменного имени. Примеры таких имен: alice.apple или wallet.eos. Поддомен должен содержать только одну точку для разделения от доменного имени, и он не может начинаться с этой точки. Создатель доменного имени имеет исключительное право на создание поддоменов на основе своего доменного имени.

 -->

